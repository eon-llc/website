<div id="rem-polls" class="content">
    <div class="section">
        <div class="container">

            {{bread-crumbs tagName="ul" outputStyle="bootstrap" linkable=true}}

            <PollsToolbar @account={{this.account}} @login={{action "scatterLogin"}} @logout={{action "scatterLogout"}}/>

            <h4>Rem Polls</h4>

            {{#if this.polls}}
                {{#each this.polls as |poll|}}
                    <LinkTo @route="rem.polls.view" @model={{poll.id}} class="poll d-flex">
                        <div class="subject">
                            <label>{{poll.subject}}</label>
                            <span>{{truncate-text poll.description limit=50}}</span>
                        </div>
                        <div class="votes">
                            <label>votes</label>
                            <span>{{total-poll-votes poll.options poll.is_token_poll}}</span>
                        </div>
                        <div class="votes">
                            <label>type</label>
                            <span>{{if poll.is_token_poll 'token' 'account'}}</span>
                        </div>
                        <div class="expires">
                            <label>ends</label>
                            {{#if (eq poll.expires_at '1970-01-01T00:00:00.000')}}
                                <span>never</span>
                            {{else}}
                                <span>{{moment-from (moment-utc poll.expires_at)}}</span>
                            {{/if}}
                        </div>
                        <div class="for">
                            <label>for</label>
                            {{#if (and poll.guardians_only poll.producers_only)}}
                                <span class="badge badge-pill badge-primary">producers &amp; guardians</span>
                            {{else if poll.producers_only}}
                                <span class="badge badge-pill badge-primary">producers</span>
                            {{else if poll.guardians_only}}
                                <span class="badge badge-pill badge-primary">guardians</span>
                            {{else}}
                                <span class="badge badge-pill badge-primary">everyone</span>
                            {{/if}}
                        </div>
                    </LinkTo>
                {{/each}}
            {{else}}
                <p>Found 0 polls.</p>
            {{/if}}

        </div>
    </div>

    <hr>

    {{vote-for-us}}
</div>